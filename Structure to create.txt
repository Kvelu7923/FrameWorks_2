ğŸ“š Project Structure for UI + API Automation Framework with Extent Report & FFmpeg Integration
Below is the proposed project structure to effectively organize your UI and API automation framework, including FFmpeg for video recording and Extent Reports for detailed test reporting.

ğŸ“‚ 1. Project Structure
graphql
Copy code
ğŸ“¦ AutomationFramework
â”‚
â”œâ”€â”€ ğŸ“‚ src
â”‚   â”œâ”€â”€ ğŸ“‚ main
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ java
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ base
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ BaseTest.java           # Common setup/teardown for UI/API tests
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ BasePage.java           # UI Base Page class
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ APIBase.java            # API Base Methods
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ FFmpegRecorder.java     # FFmpeg Video Recording Integration
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ config
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ConfigLoader.java       # Configuration loader (env-specific properties)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ dev.properties          # Environment properties (DEV)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ qa.properties           # Environment properties (QA)
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ pages
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LeadPage.java           # Example UI Page Object
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ utils
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ExtentManager.java      # Extent Report Configuration
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Reporter.java           # Custom reportStep implementation
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ constants
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Locators.java           # Enum for UI locators
â”‚   â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“‚ test
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ java
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ ui
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LeadTest.java           # UI Test Class
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ api
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LeadAPITest.java        # API Test Class
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ resources
â”‚   â”‚   â”‚   â”œâ”€â”€ datafile.json               # Sample JSON data file
â”‚   â”‚   â”‚   â”œâ”€â”€ datafile.xlsx               # Sample Excel data file
â”‚   â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“‚ reports
â”‚   â”‚   â”œâ”€â”€ ExtentReport.html               # Generated Extent Report
â”‚   â”‚   â”œâ”€â”€ TestExecutionVideo.mp4          # Recorded FFmpeg Test Video
â”‚
â”œâ”€â”€ ğŸ“œ pom.xml                               # Project Dependencies (Maven)
â”œâ”€â”€ ğŸ“œ README.md                             # Framework Documentation
ğŸ› ï¸ 2. Key Components and Responsibilities
ğŸ“‚ base
BaseTest.java: Handles setup (@BeforeTest) and teardown (@AfterTest) configurations for UI and API tests, including FFmpeg video recording initialization.
BasePage.java: Parent class for UI Page Objects.
APIBase.java: Core methods for API testing (GET, POST, PUT, DELETE).
FFmpegRecorder.java: Video recording functionality for test execution.
ğŸ“‚ config
ConfigLoader.java: Dynamically loads environment properties (dev.properties, qa.properties).
ğŸ“‚ pages
Contains Page Object classes (e.g., LeadPage.java) representing UI pages.
ğŸ“‚ utils
ExtentManager.java: Configures and initializes Extent Reports.
Reporter.java: Provides the reportStep method for customized reporting, now integrating FFmpeg video links in reports.
ğŸ“‚ test
Separate folders for UI and API test classes.
ğŸ“‚ resources
Stores test data files (JSON, Excel).
ğŸ“‚ reports
Generated Extent Report and Test Execution Video (via FFmpeg) are saved here.
ğŸ“ 3. Sample Code Implementation
ğŸ›¡ï¸ 3.1 FFmpeg Integration
FFmpegRecorder.java

java
Copy code
package base;

import java.io.IOException;

public class FFmpegRecorder {
    private Process process;

    public void startRecording(String videoName) {
        try {
            String command = "ffmpeg -y -f gdigrab -framerate 30 -i desktop ./reports/" + videoName + ".mp4";
            process = Runtime.getRuntime().exec(command);
            System.out.println("FFmpeg Recording Started");
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    public void stopRecording() {
        if (process != null) {
            process.destroy();
            System.out.println("FFmpeg Recording Stopped");
        }
    }
}
ğŸ“ 3.2 Extent Report with FFmpeg Integration
Reporter.java

java
Copy code
package utils;

import com.aventstack.extentreports.Status;
import com.aventstack.extentreports.ExtentTest;
import java.io.File;

public class Reporter {
    private ExtentTest extentTest;

    public Reporter(ExtentTest test) {
        this.extentTest = test;
    }

    public void reportStep(String description, String status, boolean screenshot, String videoName) {
        if (screenshot) {
            // Add screenshot logic
        }

        if (videoName != null) {
            File videoFile = new File("./reports/" + videoName + ".mp4");
            if (videoFile.exists()) {
                extentTest.log(Status.valueOf(status.toUpperCase()), 
                    description + " [Video](./" + videoFile.getPath() + ")");
            }
        } else {
            extentTest.log(Status.valueOf(status.toUpperCase()), description);
        }
    }

    public void reportStep(String description) {
        extentTest.log(Status.INFO, description);
    }
}
ğŸ“ 3.3 BaseTest Setup
BaseTest.java

java
Copy code
package base;

import org.testng.annotations.BeforeTest;
import org.testng.annotations.AfterTest;
import utils.ExtentManager;
import utils.Reporter;

public class BaseTest {
    protected Reporter reporter;
    protected FFmpegRecorder recorder = new FFmpegRecorder();

    @BeforeTest
    public void setup() {
        ExtentManager.initReport();
        recorder.startRecording("TestExecutionVideo");
        reporter = new Reporter(ExtentManager.createTest("Test Case"));
    }

    @AfterTest
    public void teardown() {
        recorder.stopRecording();
        ExtentManager.flushReport();
    }
}
ğŸ“ 3.4 Example Test Case
LeadTest.java

java
Copy code
package test.ui;

import base.BaseTest;
import org.testng.annotations.Test;
import pages.LeadPage;

public class LeadTest extends BaseTest {

    @Test
    public void testSelectApp() {
        LeadPage leadPage = new LeadPage();
        leadPage.selectApp("CRM");
        reporter.reportStep("Lead App Test Completed", "PASS", true, "TestExecutionVideo");
    }
}
ğŸš€ 4. Dependencies (pom.xml)
Ensure you include dependencies for:

Selenium
RestAssured
ExtentReports
TestNG
âœ… 5. Final Notes
Video Recording: FFmpeg records the entire test execution.
Dynamic Reports: Both screenshots and video links are embedded in Extent Reports.
Modularity: Clear separation of UI, API, and Utilities ensures maintainability.
This structure is highly scalable and supports both API and UI Automation seamlessly.
